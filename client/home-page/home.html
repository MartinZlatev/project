<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="../CSS/body_main_header.css">

    <script defer src="javascript/button_reaction.js"></script>
    <script defer src="javascript/log_out_user.js"></script>
    <script defer src="javascript/load_user_data.js"></script>
    <script defer src="javascript/button_reaction.js"></script>
    <script defer src="javascript/log_out_user.js"></script>
    <script defer src="javascript/load_user_data.js"></script>
    <script defer src="javascript/load_images.js"></script>
    <!-- <script defer src="javascript/upload_image.js"></script> -->
    <script>
        /* reload the page on load because the page won't load the user's data when he has set cookies */
        window.onload = function () {
            if (!window.location.hash) {
                window.location = window.location + '#loaded';
                window.location.reload();
            }
        }
    </script>
    <title>Home</title>
</head>

<body>

    <header>

        <div class="option" id="upload">
            <h3>Качи снимка</h3>
            <img src="../login/img/file_upload_FILL0_wght400_GRAD0_opsz48.png">
        </div>

        <h1 id="system-name-header">Алумни албуми</h1>

        <span class="dropdown">

            <span id="dropdown-field">
                <button class="dropbtn" id="header-name"></button>
                <img id="more-img" src="../login/img/expand_more_FILL0_wght400_GRAD0_opsz48.png">
            </span>

            <span class="dropdown-content">
                <div class="option" id="my-account">
                    <h3>Моят акаунт</h3>
                </div>
                <div class="option" id="my-images">
                    <h3>Моите снимки</h3>
                </div>
                <div class="option" id="pick-image">
                    <h3>Избери снимка за алумни албум</h3>
                </div>
                <div class="option" id="album">
                    <h3>Покажи алумни албум</h3>
                </div>
                <div class="option" id="log-out">
                    <h3>Изход</h3>
                </div>
            </span>

        </span>
    </header>

    <main>

        <section id="account-tab">

            <!-- My Account tab -->
            <section id="my-account-section">

                <!-- The tab header -->
                <header id="my-account-header">
                    <h1>Моят акаунт</h1>
                </header>

                <!-- The content of the tab -->
                <article id="account-details">

                    <!-- User picture (for now it is a static one) -->
                    <img id="profile-image" src="../../server/images/default.png">

                    <section>
                        <span class="user-info">
                            <label>Име: </label>
                            <p id="name"></p>
                        </span>
                        <span class="user-info">
                            <label>Имейл: </label>
                            <p id="email">Имейл: </p>
                        </span>
                        <span class="user-info">
                            <label>Специалност: </label>
                            <p id="major">Специалност:</p>
                        </span>
                        <span class="user-info">
                            <label>Курс: </label>
                            <p id="course">Курс: </p>
                        </span>

                    </section>
                </article>

            </section>


            <!-- Upload image tab -->
            <section id="upload-section" class="no-display">
                <form action="../../server/api/upload.php" method="POST" enctype="multipart/form-data">
                    <input type="file" name="file" accept="image/*" required style="margin:20px 0px;" />
                    <button type="submit" name="submit" class="form-button">Upload your image</button>
                </form>
            </section>


            <section id="my-images-section" class="no-display">
                <h1>Моите снимки:</h1>
                <div id="gallery" class="gallery">
                    <script src="javascript/get_my_images.js"></script>
            </section>

            <section id="pick-image-section" class="no-display">
                <h1>Кликни върху снимка, за да я избереш и тя да се показва в албума.</h1>
                <div id="pick-image-message"></div>
                <div id="my-gallery" class="gallery">
                    <script src="javascript/pick_from_my_images.js"></script>
            </section>

            <section id="album-section" class="no-display">
                <form id="export-form">
                    <select required name="major" id="export-major" class="form-input">
                        <option value="Софтуерно инженерство">Софтуерно инженерство</option>
                        <option value="Компютърни науки">Компютърни науки</option>
                        <option value="Информационни системи">Информационни системи</option>
                        <option value="Информатика">Информатика</option>
                        <option value="Математика">Математика</option>
                        <option value="Приложна математика">Приложна математика</option>
                        <option value="Статистика">Статистика</option>
                        <option value="Математика и информатика">Математика и информатика</option>
                    </select>

                    <select required name="course" id="export-course" class="form-input">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select>
                </form>

                <button onclick="loadImages()" name="export-submit" class="form-button">Покажи албум</button>

                <div id="export-result">
                </div>
            </section>

        </section>
    </main>
</body>